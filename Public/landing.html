<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BookHaven - Online Bookstore</title>
  <link rel="stylesheet" href="styles/abct.css">
  <link rel="stylesheet" href="styles/landing.css">
</head>

<body>
  <header>
    <nav class="container">
      <a href="#" class="logo">üìö BookHaven</a>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#categories">Categories</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="/login.html">Logout</a></li>
      </ul>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search books..." />
        <div class="cart-icon" onclick="toggleCart()">
          üõí
          <span class="cart-count" id="cartCount">0</span>
        </div>
      </div>
    </nav>
  </header>

  <main class="container">
    <section class="hero">
      <h1>Welcome to BookHaven</h1>
      <p>Discover your next favorite book from our curated collection</p>
    </section>

    <section class="categories" id="categories">
      <div class="category-card" onclick="filterBooks('fiction')">
        <h3>üìñ Fiction</h3>
        <p>Novels & Stories</p>
      </div>
      <div class="category-card" onclick="filterBooks('non-fiction')">
        <h3>üìö Non-Fiction</h3>
        <p>Real Stories & Facts</p>
      </div>
      <div class="category-card" onclick="filterBooks('mystery')">
        <h3>üîç Mystery</h3>
        <p>Thrillers & Detective</p>
      </div>
      <div class="category-card" onclick="filterBooks('romance')">
        <h3>üíï Romance</h3>
        <p>Love Stories</p>
      </div>
      <div class="category-card" onclick="filterBooks('sci-fi')">
        <h3>üöÄ Sci-Fi</h3>
        <p>Future & Space</p>
      </div>
      <div class="category-card" onclick="filterBooks('all')">
        <h3>üìã All Books</h3>
        <p>Complete Collection</p>
      </div>
    </section>

    <section class="books-grid" id="booksGrid">
      <!-- Books will be populated by JavaScript -->
    </section>
  </main>
  <!-- About Section -->
  <section id="about" class="about-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">
          About Our <span class="title-accent">Bookstore</span>
        </h2>
        <p class="section-subtitle">
          Welcome to Literary Haven, where stories come alive and knowledge finds its home.
          For over 15 years, we've been the community's trusted destination for books,
          creating a warm space where readers of all ages can discover their next great adventure.
        </p>
      </div>

      <div class="about-content">
        <div class="about-story">
          <h3>Our Story</h3>
          <p>
            Founded in 2008 by book lovers Sarah and Michael Thompson, Literary Haven began
            as a small neighborhood bookshop with a simple mission: to connect people with
            the perfect book. What started as a cozy corner store has grown into a beloved
            community hub that hosts author readings, book clubs, and literary events.
          </p>
          <p>
            We believe that books have the power to transform lives, spark imagination,
            and build bridges between different cultures and perspectives. Our carefully
            curated collection spans every genre, from timeless classics to contemporary
            bestsellers, ensuring there's something special for every reader.
          </p>
        </div>

        <div class="stats-card">
          <div class="stats-grid">
            <div class="stat-item">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
              </svg>
              <div class="stat-value">50,000+</div>
              <div class="stat-label">Books Available</div>
            </div>

            <div class="stat-item">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                <circle cx="9" cy="7" r="4" />
                <path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" />
              </svg>
              <div class="stat-value">25,000+</div>
              <div class="stat-label">Happy Customers</div>
            </div>

            <div class="stat-item">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" />
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" />
                <path d="M4 22h16" />
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22" />
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22" />
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z" />
              </svg>
              <div class="stat-value">15+</div>
              <div class="stat-label">Years Experience</div>
            </div>

            <div class="stat-item">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10" />
                <polyline points="12,6 12,12 16,14" />
              </svg>
              <div class="stat-value">12</div>
              <div class="stat-label">Hours Open Daily</div>
            </div>
          </div>
        </div>
      </div>

      <div class="features-card">
        <h3>What Makes Us Special</h3>
        <div class="features-grid">
          <div class="feature-item">
            <div class="feature-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
              </svg>
            </div>
            <h4>Curated Selection</h4>
            <p>Every book is hand-picked by our team of literary enthusiasts to ensure quality and diversity.</p>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                <circle cx="9" cy="7" r="4" />
                <path d="M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75" />
              </svg>
            </div>
            <h4>Community Events</h4>
            <p>Regular book clubs, author readings, and literary discussions bring our community together.</p>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" />
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" />
                <path d="M4 22h16" />
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22" />
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22" />
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z" />
              </svg>
            </div>
            <h4>Expert Recommendations</h4>
            <p>Our knowledgeable staff provides personalized book recommendations for every taste.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="contact-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">
          Get In <span class="title-accent">Touch</span>
        </h2>
        <p class="section-subtitle">
          Have a question about a book? Want to join our book club? Or simply want to chat about literature?
          We'd love to hear from you!
        </p>
      </div>

      <div class="contact-content">
        <!-- Contact Information -->
        <div class="contact-info">
          <h3>Contact Information</h3>

          <div class="contact-grid">
            <div class="contact-card">
              <div class="contact-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" />
                  <circle cx="12" cy="10" r="3" />
                </svg>
              </div>
              <div class="contact-details">
                <h4>Visit Our Store</h4>
                <p>123 Literary Lane</p>
                <p>Booktown, BT 12345</p>
              </div>
            </div>

            <div class="contact-card">
              <div class="contact-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path
                    d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
                </svg>
              </div>
              <div class="contact-details">
                <h4>Call Us</h4>
                <p>(555) 123-BOOK</p>
                <p>(555) 123-2665</p>
              </div>
            </div>

            <div class="contact-card">
              <div class="contact-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                  <polyline points="22,6 12,13 2,6" />
                </svg>
              </div>
              <div class="contact-details">
                <h4>Email Us</h4>
                <p>info@literaryhaven.com</p>
                <p>events@literaryhaven.com</p>
              </div>
            </div>

            <div class="contact-card">
              <div class="contact-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10" />
                  <polyline points="12,6 12,12 16,14" />
                </svg>
              </div>
              <div class="contact-details">
                <h4>Store Hours</h4>
                <p>Mon-Sat: 9am-9pm</p>
                <p>Sunday: 10am-6pm</p>
              </div>
            </div>
          </div>

          <div class="contact-benefits">
            <h4>Why Contact Us?</h4>
            <ul>
              <li>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 12l2 2 4-4" />
                  <circle cx="12" cy="12" r="10" />
                </svg>
                <span>Book recommendations and special orders</span>
              </li>
              <li>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 12l2 2 4-4" />
                  <circle cx="12" cy="12" r="10" />
                </svg>
                <span>Book club and event information</span>
              </li>
              <li>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 12l2 2 4-4" />
                  <circle cx="12" cy="12" r="10" />
                </svg>
                <span>Author signing and reading requests</span>
              </li>
              <li>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 12l2 2 4-4" />
                  <circle cx="12" cy="12" r="10" />
                </svg>
                <span>Bulk orders for schools and organizations</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- Contact Form -->
        <div class="contact-form-container">
          <h3>Send Us a Message</h3>

          <div id="success-message" class="success-message" style="display: none;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 12l2 2 4-4" />
              <circle cx="12" cy="12" r="10" />
            </svg>
            <div>
              <h4>Message Sent Successfully!</h4>
              <p>We'll get back to you within 24 hours.</p>
            </div>
          </div>

          <form id="contact-form" class="contact-form">
            <div class="form-row">
              <div class="form-group">
                <label for="name">Full Name *</label>
                <input type="text" id="name" name="name" required placeholder="Your full name">
              </div>

              <div class="form-group">
                <label for="email">Email Address *</label>
                <input type="email" id="email" name="email" required placeholder="your.email@example.com">
              </div>
            </div>

            <div class="form-group">
              <label for="subject">Subject</label>
              <select id="subject" name="subject">
                <option value="">Select a subject</option>
                <option value="book-recommendation">Book Recommendation</option>
                <option value="special-order">Special Order</option>
                <option value="book-club">Book Club Info</option>
                <option value="events">Events & Readings</option>
                <option value="bulk-order">Bulk Orders</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="message">Message *</label>
              <textarea id="message" name="message" required rows="5"
                placeholder="Tell us how we can help you..."></textarea>
            </div>

            <button type="submit" class="btn btn-primary btn-full">
              <span class="btn-text">Send Message</span>
              <span class="btn-loading" style="display: none;">
                <div class="spinner"></div>
                <span>Sending...</span>
              </span>
              <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <path d="M22 2l-20 10 8.5 4 4-8.5z" />
              </svg>
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>
  <footer>
    <div class="container">
      <p>
        &copy; 2024 BookHaven. All rights reserved. | Your destination for
        quality books
      </p>
    </div>
  </footer>

  <div class="overlay" id="overlay" onclick="closeCart()"></div>

  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2>Shopping Cart</h2>
      <button class="close-cart" onclick="closeCart()">√ó</button>
    </div>
    <div class="cart-items" id="cartItems">
      <p style="text-align: center; color: #666; margin-top: 2rem">
        Your cart is empty
      </p>
    </div>
    <div class="cart-total">
      <div class="total-amount">
        Total: $<span id="totalAmount">0.00</span>
      </div>
      <button class="checkout-btn" onclick="checkout()">
        Proceed to Checkout
      </button>
    </div>
  </div>

  <div class="notification" id="notification">Item added to cart!</div>
  <script>
    async function loadProfile() {
      const res = await fetch("/api/profile");
      const data = await res.json();

      if (!data.success) {
        window.location.href = "/login.html";
      } else {
        document.getElementById("username").innerText = data.user.username;
        document.getElementById("email").innerText = data.user.email;
      }
    }

    document.getElementById("logout").addEventListener("click", async () => {
      await fetch("/api/logout");
      window.location.href = "/login.html";
    });

    document.getElementById("profileToggle").addEventListener("click", () => {
      document.getElementById("profileDropdown").classList.toggle("show");
    });

    loadProfile();
  </script>
  <script>
    // Sample book data
    const books = [
      {
        id: 1,
        title: "The Great Gatsby",
        author: "F. Scott Fitzgerald",
        price: 12.99,
        category: "fiction",
        cover: "Classic American Novel",
      },
      {
        id: 2,
        title: "To Kill a Mockingbird",
        author: "Harper Lee",
        price: 14.99,
        category: "fiction",
        cover: "Timeless Classic",
      },
      {
        id: 3,
        title: "1984",
        author: "George Orwell",
        price: 13.99,
        category: "fiction",
        cover: "Dystopian Masterpiece",
      },
      {
        id: 4,
        title: "The Da Vinci Code",
        author: "Dan Brown",
        price: 15.99,
        category: "mystery",
        cover: "Mystery Thriller",
      },
      {
        id: 5,
        title: "Pride and Prejudice",
        author: "Jane Austen",
        price: 11.99,
        category: "romance",
        cover: "Classic Romance",
      },
      {
        id: 6,
        title: "Dune",
        author: "Frank Herbert",
        price: 18.99,
        category: "sci-fi",
        cover: "Epic Space Opera",
      },
      {
        id: 7,
        title: "Sapiens",
        author: "Yuval Noah Harari",
        price: 16.99,
        category: "non-fiction",
        cover: "Human History",
      },
      {
        id: 8,
        title: "The Alchemist",
        author: "Paulo Coelho",
        price: 13.99,
        category: "fiction",
        cover: "Philosophical Novel",
      },
      {
        id: 9,
        title: "Gone Girl",
        author: "Gillian Flynn",
        price: 14.99,
        category: "mystery",
        cover: "Psychological Thriller",
      },
      {
        id: 10,
        title: "The Notebook",
        author: "Nicholas Sparks",
        price: 12.99,
        category: "romance",
        cover: "Heartwarming Romance",
      },
      {
        id: 11,
        title: "Foundation",
        author: "Isaac Asimov",
        price: 15.99,
        category: "sci-fi",
        cover: "Science Fiction Classic",
      },
      {
        id: 12,
        title: "Educated",
        author: "Tara Westover",
        price: 16.99,
        category: "non-fiction",
        cover: "Memoir",
      },
    ];

    let cart = [];
    let currentFilter = "all";

    // Initialize the app
    document.addEventListener("DOMContentLoaded", function () {
      displayBooks(books);
      setupSearch();
      updateCartCount();
    });

    // Display books
    function displayBooks(booksToShow) {
      const booksGrid = document.getElementById("booksGrid");
      booksGrid.innerHTML = "";

      booksToShow.forEach((book) => {
        const bookCard = document.createElement("div");
        bookCard.className = "book-card";
        bookCard.innerHTML = `
                    <div class="book-cover">${book.cover}</div>
                    <div class="book-info">
                        <div class="book-title">${book.title}</div>
                        <div class="book-author">by ${book.author}</div>
                        <div class="book-price">$${book.price}</div>
                        <button class="add-to-cart" onclick="addToCart(${book.id})">
                            Add to Cart
                        </button>
                    </div>
                `;
        booksGrid.appendChild(bookCard);
      });
    }

    // Filter books by category
    function filterBooks(category) {
      currentFilter = category;
      if (category === "all") {
        displayBooks(books);
      } else {
        const filteredBooks = books.filter(
          (book) => book.category === category
        );
        displayBooks(filteredBooks);
      }
    }

    // Search functionality
    function setupSearch() {
      const searchInput = document.getElementById("searchInput");
      searchInput.addEventListener("input", function (e) {
        const searchTerm = e.target.value.toLowerCase();
        let filteredBooks = books;

        if (currentFilter !== "all") {
          filteredBooks = books.filter(
            (book) => book.category === currentFilter
          );
        }

        const searchResults = filteredBooks.filter(
          (book) =>
            book.title.toLowerCase().includes(searchTerm) ||
            book.author.toLowerCase().includes(searchTerm)
        );

        displayBooks(searchResults);
      });
    }

    // Add to cart
    function addToCart(bookId) {
      const book = books.find((b) => b.id === bookId);
      const existingItem = cart.find((item) => item.id === bookId);

      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({
          ...book,
          quantity: 1,
        });
      }

      updateCartCount();
      updateCartDisplay();
      showNotification();
    }

    // Update cart count
    function updateCartCount() {
      const cartCount = document.getElementById("cartCount");
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartCount.textContent = totalItems;
    }

    // Update cart display
    function updateCartDisplay() {
      const cartItems = document.getElementById("cartItems");
      const totalAmount = document.getElementById("totalAmount");

      if (cart.length === 0) {
        cartItems.innerHTML =
          '<p style="text-align: center; color: #666; margin-top: 2rem;">Your cart is empty</p>';
        totalAmount.textContent = "0.00";
        return;
      }

      cartItems.innerHTML = "";
      let total = 0;

      cart.forEach((item) => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;

        const cartItem = document.createElement("div");
        cartItem.className = "cart-item";
        cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.title}</div>
                        <div class="cart-item-price">$${item.price.toFixed(
          2
        )}</div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="changeQuantity(${item.id
          }, -1)">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" onclick="changeQuantity(${item.id
          }, 1)">+</button>
                            <button class="quantity-btn" onclick="removeFromCart(${item.id
          })" style="background: #e74c3c; margin-left: 1rem;">√ó</button>
                        </div>
                    </div>
                `;
        cartItems.appendChild(cartItem);
      });

      totalAmount.textContent = total.toFixed(2);
    }

    // Change quantity
    function changeQuantity(bookId, change) {
      const item = cart.find((item) => item.id === bookId);
      if (item) {
        item.quantity += change;
        if (item.quantity <= 0) {
          removeFromCart(bookId);
        } else {
          updateCartCount();
          updateCartDisplay();
        }
      }
    }

    // Remove from cart
    function removeFromCart(bookId) {
      cart = cart.filter((item) => item.id !== bookId);
      updateCartCount();
      updateCartDisplay();
    }

    // Toggle cart
    function toggleCart() {
      const cartSidebar = document.getElementById("cartSidebar");
      const overlay = document.getElementById("overlay");

      cartSidebar.classList.toggle("open");
      overlay.classList.toggle("active");
      updateCartDisplay();
    }

    // Close cart
    function closeCart() {
      const cartSidebar = document.getElementById("cartSidebar");
      const overlay = document.getElementById("overlay");

      cartSidebar.classList.remove("open");
      overlay.classList.remove("active");
    }

    // Show notification
    function showNotification() {
      const notification = document.getElementById("notification");
      notification.classList.add("show");
      setTimeout(() => {
        notification.classList.remove("show");
      }, 3000);
    }

    // Checkout
    function checkout() {
      if (cart.length === 0) {
        alert("Your cart is empty!");
        return;
      }

      const total = cart.reduce(
        (sum, item) => sum + item.price * item.quantity,
        0
      );
      alert(
        `Thank you for your purchase! Total: $${total.toFixed(
          2
        )}\n\nThis is a demo checkout. In a real application, you would be redirected to a payment processor.`
      );

      // Clear cart
      cart = [];
      updateCartCount();
      updateCartDisplay();
      closeCart();
    }

    function extractCSS() {
      return document.querySelector("style").textContent;
    }

    function extractJS() {
      return document.querySelector("script").textContent;
    }

    function generateReadme() {
      return `# BookHaven - Online Bookstore

## Description
A modern, responsive online bookstore web application with shopping cart functionality.

## Features
- Browse books by category
- Search functionality
- Shopping cart with quantity management
- Responsive design
- Modern UI with glassmorphism effects

## Installation
1. Extract all files to a web server directory
2. Open index.html in a web browser
3. No additional setup required

## File Structure
- index.html - Main HTML file
- styles/main.css - Stylesheet
- scripts/app.js - JavaScript functionality
- data/books.json - Book data
- README.md - This file

## Technologies Used
- HTML5
- CSS3 (Grid, Flexbox, Backdrop-filter)
- Vanilla JavaScript
- Responsive Design

## Browser Support
- Chrome (recommended)
- Firefox
- Safari
- Edge

## License
MIT License
`;
    }
    
    
  </script>

</body>

</html>